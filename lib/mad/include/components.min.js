function bdaterange_start(a,b){let c=document.getElementById(b.id_start),e=document.getElementById(b.id_end);$(c).data("range_type","normal");let k={element:c,css:["lib/independent/css/easepick.css"],header:b.title,zIndex:b.zIndex,grid:b.grid,calendars:b.calendars,readonly:!1,autoApply:b.autoApply,plugins:["RangePlugin","LockPlugin"],lang:b.language,format:b.format,locale:{cancel:b.language=="pt"?"Cancelar":"Cancel",apply:b.language=="pt"?"Aplicar":"Apply"},setup(l){l.on("select",f=>{b.changeaction&&
$("#"+a).data("event-enabled")&&eval(b.changeaction)})},RangePlugin:{delimiter:b.separator,tooltipNumber:l=>l-1,locale:b.locale??{one:b.language=="pt"?"Dia":"Day",other:b.language=="pt"?"Dias":"Days"}}};b.time&&(k.plugins.push("TimePlugin"),k.TimePlugin={seconds:b.seconds,format:"HH:mm:ss",stepSeconds:b.stepSeconds,stepHours:b.stepHours,stepMinutes:b.stepMinutes});b.id_end&&($(c).data("range_type","start"),$(e).data("range_type","end"),k.RangePlugin.elementEnd=e);if(b.enableDates||b.disableDates)k.LockPlugin=
{minDate:new Date,minDays:1,inseparable:!0,filter(l){if(b.enableDates)return!b.enableDates.includes(l.format("YYYY-MM-DD"));if(b.disableDates)return b.disableDates.includes(l.format("YYYY-MM-DD"))}};const d=new easepick.create(k);$(c).on("change",function(){if(this.value)d.setStartDate(this.value);else{let l=$(e).val();d.clear();e&&l&&d.setEndDate(l)}b.changeaction&&eval(b.changeaction)});$(e).on("change",function(){if(this.value)d.setEndDate(this.value);else{let l=$(c).val();d.clear();l&&d.setStartDate(l)}b.changeaction&&
eval(b.changeaction)});$("#"+a).data("picker",d);$("#"+a).data("event-enabled",!0);$("#"+a).data("picker-options",b)}function bdaterange_disable_field(a,b){let c=$("form[name="+a+"] [id="+b+"]");c.length==0&&(c=$("form[name="+a+"] [name="+b+"]").closest(".bdaterange-container"));c.find(".bdaterange-icon").hide();c.find("input").addClass("tfield_disabled")}
function bdaterange_enable_field(a,b){let c=$("form[name="+a+"] [id="+b+"]");c.length==0&&(c=$("form[name="+a+"] [name="+b+"]").closest(".bdaterange-container"));c.find(".bdaterange-icon").show();c.find("input").removeClass("tfield_disabled")}
function bdaterange_set_value(a,b){$(a).data("range_type")=="normal"?$(a).closest(".bdaterange-container").data("picker").setDateRange(b):$(a).data("range_type")=="end"?$(a).closest(".bdaterange-container").data("picker").setEndDate(b):$(a).data("range_type")=="start"&&$(a).closest(".bdaterange-container").data("picker").setStartDate(b);$(a).val(b)};function btreeview_start(a,b){if(b)$(`#${a} .btreeview-group-name, #${a} .btreeview-group-icon`).on("click",function(c){$(this).closest(".btreeview-group").toggleClass("btreeview-open")})}function btreeview_toggle_all(a,b){a.stopPropagation();$(b).closest(".btreeview-group").find(".btreeview-group-items").find("[type=checkbox]").prop("checked",$(b).is(":checked"))}
function btreeview_add_option(a,b,c,e,k){c=$("form[name="+a+"] [btreeview="+b+'] .btreeview-group[id="'+c+'"]');a=c.find(".btreeview-group-items .btreeview-item:first").clone();b=a.attr("data-id");console.log(a,c,b);a.find(".btreeview-checkbox-item").attr("value",e);a.find("span").html(k);a.attr("data-id",e);c.find(".btreeview-group-items").append(a)}function btreeview_reload(a,b,c){$("form[name="+a+"] [btreeview="+b+"]").replaceWith(base64_decode(c))};function bselectcheck_start(a,b){function c(f){const g=f.data("select2").$dropdown;if(g&&g.length){g.find(".select2-results__option:visible").each(function(){var n=$(this).data("data");if(n&&n.id){n=f.find('option[value="'+n.id+'"]').prop("selected");const q=$(this).find(".select2-result-item__checkbox");q.length&&(q.prop("checked",n),$(this).attr("aria-selected",n?"true":"false"))}});var h=f.data("select2");if(h&&h.data&&h.data()){h=h.data();for(let n=0;n<h.length;n++){var m=h[n];if(m&&m.id){const q=
f.find('option[value="'+m.id+'"]').prop("selected");m=g.find(`.select2-results__option[aria-selected][id$="-${m.id}"]`);m.length&&(m.find(".select2-result-item__checkbox").prop("checked",q),m.attr("aria-selected",q?"true":"false"))}}}}}let e=!1;var k={allowClear:!0,multiple:!0,closeOnSelect:!1,placeholder:b,templateSelection:function(f,g){return f.text},templateResult:function(f){if(f.loading)return f.text;var g=$('<div class="select2-result-item">'+(f.element.tagName==="OPTGROUP"?"":'<input type="checkbox" class="select2-result-item__checkbox">')+
'<span class="select2-result-item__text">'+f.text+"</span></div>");f.element.tagName!=="OPTGROUP"&&f.id&&g.find('input[type="checkbox"]').attr("data-option-value",f.id);f=$(f.element).is(":selected");g.find('input[type="checkbox"]').prop("checked",f);return g}};$(a).removeAttr("onchange");const d=$(a).select2(k);d.data("original-element",a);d.on("change.internalupdate",function(f){bselectcheck_update_summary(this,b);e||setTimeout(function(){c(d)},10)});d.on("select2:close",function(){$(a).attr("changeaction")&&
(new Function($(a).attr("changeaction")))()});d.on("select2:open",function(){setTimeout(function(){c(d)},50)});d.on("select2:select select2:unselect",function(){setTimeout(function(){c(d)},10)});const l=function(){const f=d.data("select2").$dropdown;f.is(":visible")&&f.find(".select2-results__option").each(function(){var g=$(this).data("data")?.id;if(g){g=d.find('option[value="'+g+'"]').prop("selected");const h=$(this).find('input[type="checkbox"]');h.prop("checked")!==g&&(h.prop("checked",g),$(this).attr("aria-selected",
g?"true":"false"))}})};d.on("select2:rendered",function(){l()});d.on("mouseup",".select2-results__option",function(){$(this).data("data");setTimeout(function(){l()},50)});d.on("select2:unselecting",function(f){$(this).data("unselecting",!0);setTimeout(()=>$(this).removeData("unselecting"),10)}).on("select2:opening",function(f){$(this).data("unselecting")&&($(this).removeData("unselecting"),f.preventDefault())});d.on("select2:clearing",function(f){var g=$(this).next(".select2-container");setTimeout(function(){g.find(".select2-selection__rendered").html('<li class="select2-selection__placeholder">'+
b+"</li>")})});$(document).off("click",".select2-results__option, .select2-result-item__checkbox").on("click",".select2-results__option, .select2-result-item__checkbox",function(f){const g=$(f.target).hasClass("select2-result-item__checkbox")?$(this).closest(".select2-results__option"):$(this);f.preventDefault();f.stopPropagation();if(!g.data("data"))return!1;f=g.data("data").id;const h=g.closest(".select2-results").siblings(".select2-search--dropdown").closest(".select2-container").siblings("select");
if(!h.length)return!1;var m=h.find(`option[value="${f}"]`).prop("selected");e=!0;try{m=!m,h.find(`option[value="${f}"]`).prop("selected",m),g.find(".select2-result-item__checkbox").prop("checked",m),g.attr("aria-selected",m?"true":"false"),h.trigger("change"),bselectcheck_update_summary(h,b)}finally{e=!1}return!1});$(document).off("click",".select2-selection").on("click",".select2-selection",function(f){const g=$(this).closest(".select2-container").siblings("select");g.length&&setTimeout(function(){g.select2("open")},
10)});k=$(a).next(".select2-container");k.find(".select2-selection__arrow").length||k.find(".select2-selection").append('<span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>');d.data("select2").$dropdown.addClass("bselectcheck");d.data("select2").$container.addClass("bselectcheck-container");bselectcheck_update_summary(a,b);d.on("select2:open",function(){const f=d.data("select2").$dropdown;var g=$(this).next(".select2-container").outerWidth();f.css("width",
g+"px");f.find(".bselectcheck-custom-dropdown-header").remove();var h=$('<input type="text" class="bselectcheck-custom-search-input">'),m=$('<div class="bselectcheck-buttons-container"></div>');g=$('<span  class="bselectcheck-btn btn btn-default btn-sm pull-left"> <i class="far fa-check-square" style=";padding-right:4px"></i> </button>');var n=$('<span  class="bselectcheck-btn btn btn-default btn-sm pull-left"><i class="far fa-square" style=";padding-right:4px"></i></button>'),q=$('<span  class="bselectcheck-btn btn btn-default btn-sm pull-left"><i class="fas fa-retweet" style=";padding-right:4px"></i></button>');
m.append(g,n,q);m=$('<div class="bselectcheck-custom-dropdown-header"></div>').append(h).append(m);f.prepend(m);g.on("click",function(p){p.preventDefault();p.stopPropagation();e=!0;try{d.find("option").prop("selected",!0),d.data("select2").$dropdown.find(".select2-results__option:visible").each(function(){$(this).attr("aria-selected","true");$(this).find(".select2-result-item__checkbox").prop("checked",!0)}),d.trigger("change"),bselectcheck_update_summary(d,b),setTimeout(function(){c(d)},50)}finally{e=
!1}});n.on("click",function(p){p.preventDefault();p.stopPropagation();e=!0;try{d.find("option").prop("selected",!1),d.data("select2").$dropdown.find(".select2-results__option:visible").each(function(){$(this).attr("aria-selected","false");$(this).find(".select2-result-item__checkbox").prop("checked",!1)}),d.trigger("change"),bselectcheck_update_summary(d,b),setTimeout(function(){c(d)},50)}finally{e=!1}});q.off("click").on("click",function(p){p.preventDefault();p.stopPropagation();e=!0;try{const t=
d.data("select2").$dropdown;if(t&&t.length!==0){var v=t.find(".select2-results__option:visible .select2-result-item__checkbox[data-option-value]");v.length!==0&&(v.each(function(r){if(r=$(this).attr("data-option-value"))if(r=d.find(`option[value="${r}"]`),r.length!==0){var u=!r.prop("selected");r.prop("selected",u);$(this).prop("checked",u);$(this).closest(".select2-results__option").attr("aria-selected",u?"true":"false")}}),d.trigger("change"),bselectcheck_update_summary(d,b),setTimeout(function(){c(d)},
100))}}catch(t){console.error("ERRO DURANTE INVERS\u00c3O:",t)}finally{e=!1}});setTimeout(function(){c(d)},100);h.on("input",function(){var p=$(this).val().toLowerCase();f.find(".select2-results__options li").each(function(){$(this).hasClass("select2-results__message")||($(this).text().toLowerCase().includes(p)?$(this).show():$(this).hide())})});setTimeout(function(){h.focus()},0)});d.on("select2:select select2:unselect",function(f){var g=f.params.data.selected;typeof f.params.originalEvent!="undefined"&&
$(f.params.originalEvent.currentTarget).find('input[type="checkbox"]').prop("checked",g);d.find('option[value="'+f.params.data.id+'"]').prop("selected");setTimeout(function(){d.data("select2").$dropdown.find(".select2-results__option").each(function(){var h=$(this).data("data")?.id;h&&(h=d.find('option[value="'+h+'"]').prop("selected"),$(this).find('input[type="checkbox"]').prop("checked",h),$(this).attr("aria-selected",h?"true":"false"))})},10)});d.on("select2:clearing",function(f){var g=$(this).next(".select2-container");
setTimeout(function(){g.find(".select2-selection__rendered").html('<li class="select2-selection__placeholder">'+b+"</li>")})})}
function bselectcheck_update_summary(a,b){var c=$(a);a=c.select2("data");const e=a?.length,k=c.next(".select2-container");c=k.find(".select2-selection__rendered");if(e===0)c.find("li:not(.select2-search--inline)").remove(),c.find(".select2-selection__choice, .select2-selection__clear").remove(),c.prepend(`<li class="select2-selection__placeholder">${b}</li>`);else{const {visibleText:d,remainingCount:l}=bselectcheck_calculate_visible_items(k,a);b=d;l>0&&(b+=` (+${l} itens)`);c.find("li:not(.select2-search--inline)").remove();
c.prepend(`<span style="width: 100%;max-width: 100%;"class="select2-selection__choice">${b}</span>`)}}
function bselectcheck_calculate_visible_items(a,b){const c=$("<span>").css({"font-size":a.css("font-size"),"font-family":a.css("font-family"),visibility:"hidden",position:"absolute","white-space":"nowrap"}).appendTo("body");a=a.width()-80;let e=[],k=0;b=b?.filter(d=>d&&d.text?.trim());for(let d=0;d<b?.length;d++){const l=e.length===0?b[d].text.trim():e.join(", ")+", "+b[d].text.trim();c.text(d<b.length-1?l+` (+${b.length-d-1} itens)`:l);if(a<c.width()){k=b.length-d;break}e.push(b[d].text.trim())}c.remove();
return{visibleText:e.length>0?e.join(", "):"",remainingCount:k}};class MADThumbnailGallery{constructor(){this.modal=null;this.isInitialized=!1;this.galleries=new Map;this.currentFile=null;this.imageExtensions="jpg jpeg png gif bmp webp svg ico".split(" ");this.pdfExtensions=["pdf"];this.handleClick=this.handleClick.bind(this);this.closeModal=this.closeModal.bind(this);this.handleKeyDown=this.handleKeyDown.bind(this);this.handleOutsideClick=this.handleOutsideClick.bind(this)}init(a){a=this.mergeConfig({galleryId:"mad-thumbnail-gallery",downloadUrl:"download.php?file=",
enableModal:!0,modalOptions:{showFileName:!0,showDownloadButton:!0,showCloseButton:!0,backdrop:!0,keyboard:!0,width:null,height:null,maxWidth:"90vw",maxHeight:"90vh"}},a);a.enableModal&&(this.galleries.set(a.galleryId,a),this.isInitialized||(this.createModal(),this.addEventListeners(),this.isInitialized=!0),this.attachGalleryListeners(a.galleryId,a))}mergeConfig(a,b){const c={...a};for(const e in b)b[e]&&typeof b[e]==="object"&&!Array.isArray(b[e])?c[e]=this.mergeConfig(a[e]||{},b[e]):c[e]=b[e];return c}createModal(){const a=
document.getElementById("mad-thumbnail-modal");a&&a.remove();document.body.insertAdjacentHTML("beforeend",'\n            <div id="mad-thumbnail-modal" class="mad-modal" style="display: none;">\n                <div class="mad-modal__backdrop"></div>\n                <div class="mad-modal__container">\n                    <div class="mad-modal__header">\n                        <h5 class="mad-modal__title" id="mad-modal-title">Visualizar Arquivo</h5>\n                        <button type="button" class="mad-modal__close" id="mad-modal-close" aria-label="Fechar">\n                            <span>&times;</span>\n                        </button>\n                    </div>\n                    <div class="mad-modal__body" id="mad-modal-body">\n                        \x3c!-- Conte\u00fado ser\u00e1 inserido dinamicamente --\x3e\n                    </div>\n                    <div class="mad-modal__footer" id="mad-modal-footer">\n                        \x3c!-- Bot\u00f5es ser\u00e3o inseridos dinamicamente --\x3e\n                    </div>\n                </div>\n            </div>\n        ');
this.modal=document.getElementById("mad-thumbnail-modal");this.addModalCSS()}addModalCSS(){if(!document.getElementById("mad-modal-css")){var a=document.createElement("style");a.id="mad-modal-css";a.textContent="\n            /* MADThumbnailGallery CSS */\n            .mad-modal {\n                position: fixed;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                z-index: 9999;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                opacity: 0;\n                transition: opacity 0.3s ease;\n            }\n            \n            .mad-modal.mad-modal--show {\n                opacity: 1;\n            }\n            \n            .mad-modal__backdrop {\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                background: rgba(0, 0, 0, 0.8);\n                cursor: pointer;\n            }\n            \n            .mad-modal__container {\n                position: relative;\n                background: white;\n                border-radius: 8px;\n                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n                max-width: 90vw;\n                max-height: 90vh;\n                display: flex;\n                flex-direction: column;\n                transform: scale(0.9);\n                transition: transform 0.3s ease;\n            }\n            \n            .mad-modal.mad-modal--show .mad-modal__container {\n                transform: scale(1);\n            }\n            \n            .mad-modal__header {\n                padding: 15px 20px;\n                border-bottom: 1px solid #dee2e6;\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n                background: #f8f9fa;\n                border-radius: 8px 8px 0 0;\n            }\n            \n            .mad-modal__title {\n                margin: 0;\n                font-size: 16px;\n                font-weight: 600;\n                color: #333;\n            }\n            \n            .mad-modal__close {\n                background: none;\n                border: none;\n                font-size: 24px;\n                cursor: pointer;\n                color: #666;\n                padding: 0;\n                width: 30px;\n                height: 30px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                border-radius: 4px;\n                transition: all 0.2s ease;\n            }\n            \n            .mad-modal__close:hover {\n                background: #e9ecef;\n                color: #333;\n            }\n            \n            .mad-modal__body {\n                padding: 20px;\n                flex: 1;\n                overflow: auto;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                min-height: 200px;\n            }\n            \n            .mad-modal__footer {\n                padding: 15px 20px;\n                border-top: 1px solid #dee2e6;\n                background: #f8f9fa;\n                border-radius: 0 0 8px 8px;\n                display: flex;\n                justify-content: flex-end;\n                gap: 10px;\n            }\n            \n            .mad-modal__footer:empty {\n                display: none;\n            }\n            \n            /* Conte\u00fado espec\u00edfico */\n            .mad-modal__image {\n                max-width: 100%;\n                max-height: 70vh;\n                object-fit: contain;\n                border-radius: 4px;\n                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            }\n            \n            .mad-modal__iframe {\n                width: 80vw;\n                height: 70vh;\n                border: none;\n                border-radius: 4px;\n                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            }\n            \n            .mad-modal__file-info {\n                text-align: center;\n                padding: 40px 20px;\n            }\n            \n            .mad-modal__file-icon {\n                font-size: 4rem;\n                margin-bottom: 20px;\n                display: block;\n            }\n            \n            .mad-modal__file-name {\n                font-size: 18px;\n                font-weight: 500;\n                margin-bottom: 10px;\n                color: #333;\n                word-break: break-all;\n            }\n            \n            .mad-modal__file-size {\n                color: #666;\n                font-size: 14px;\n                margin-bottom: 20px;\n            }\n            \n            /* Bot\u00f5es */\n            .mad-modal__btn {\n                padding: 8px 16px;\n                border: none;\n                border-radius: 4px;\n                cursor: pointer;\n                font-size: 14px;\n                font-weight: 500;\n                text-decoration: none;\n                display: inline-flex;\n                align-items: center;\n                gap: 8px;\n                transition: all 0.2s ease;\n            }\n            \n            .mad-modal__btn--primary {\n                background: #007bff;\n                color: white;\n            }\n            \n            .mad-modal__btn--primary:hover {\n                background: #0056b3;\n                color: white;\n                text-decoration: none;\n            }\n            \n            .mad-modal__btn--secondary {\n                background: #6c757d;\n                color: white;\n            }\n            \n            .mad-modal__btn--secondary:hover {\n                background: #545b62;\n                color: white;\n                text-decoration: none;\n            }\n            \n            /* Loading */\n            .mad-modal__loading {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                flex-direction: column;\n                padding: 40px;\n                color: #666;\n            }\n            \n            .mad-modal__spinner {\n                width: 40px;\n                height: 40px;\n                border: 4px solid #f3f3f3;\n                border-top: 4px solid #007bff;\n                border-radius: 50%;\n                animation: mad-modal-spin 1s linear infinite;\n                margin-bottom: 15px;\n            }\n            \n            @keyframes mad-modal-spin {\n                0% { transform: rotate(0deg); }\n                100% { transform: rotate(360deg); }\n            }\n            \n            /* Responsividade */\n            @media (max-width: 768px) {\n                .mad-modal__container {\n                    max-width: 95vw;\n                    max-height: 95vh;\n                    margin: 10px;\n                }\n                \n                .mad-modal__iframe {\n                    width: 100%;\n                    height: 60vh;\n                }\n                \n                .mad-modal__header {\n                    padding: 10px 15px;\n                }\n                \n                .mad-modal__body {\n                    padding: 15px;\n                }\n                \n                .mad-modal__footer {\n                    padding: 10px 15px;\n                    flex-direction: column;\n                }\n                \n                .mad-modal__btn {\n                    width: 100%;\n                    justify-content: center;\n                }\n            }\n        ";
document.head.appendChild(a)}}addEventListeners(){document.addEventListener("keydown",this.handleKeyDown);this.modal.addEventListener("click",this.handleOutsideClick);const a=document.getElementById("mad-modal-close");a&&a.addEventListener("click",this.closeModal)}attachGalleryListeners(a,b){const c=this;$(`#${a} .mad-thumbnail-gallery__link`).on("click",function(e){const k=$(this);k&&(e.preventDefault(),e.stopPropagation(),e=c.extractFileNameFromLink(k),c.openModal(e,b))})}extractFileNameFromLink(a){return a.attr("data-file-name")}handleClick(a){var b=
a.target.closest(".mad-thumbnail-gallery__link");b&&(a.preventDefault(),a.stopPropagation(),a=this.extractFileNameFromLink(b),b=b.closest(".mad-thumbnail-gallery"),b=b?.id||b?.getAttribute("data-gallery-id")||"default",(b=this.galleries.get(b)||this.galleries.values().next().value)&&this.openModal(a,b))}openModal(a,b){if(this.modal){var c=this.isFullUrl(a)?a:b.downloadUrl+encodeURIComponent(a);this.currentFile={name:this.extractDisplayName(a),url:c,config:b};(a=document.getElementById("mad-modal-title"))&&
b.modalOptions.showFileName&&(a.textContent=this.currentFile.name);(a=this.modal.querySelector(".mad-modal__container"))&&b.modalOptions&&(b.modalOptions.width&&(a.style.width=b.modalOptions.width),b.modalOptions.height&&(a.style.height=b.modalOptions.height),b.modalOptions.maxWidth&&(a.style.maxWidth=b.modalOptions.maxWidth),b.modalOptions.maxHeight&&(a.style.maxHeight=b.modalOptions.maxHeight));this.showLoading();this.modal.style.display="flex";setTimeout(()=>{this.modal.classList.add("mad-modal--show")},
10);this.loadFileContent(this.currentFile);document.body.style.overflow="hidden"}}showLoading(){const a=document.getElementById("mad-modal-body"),b=document.getElementById("mad-modal-footer");a.innerHTML='\n            <div class="mad-modal__loading">\n                <div class="mad-modal__spinner"></div>\n                <div>Carregando arquivo...</div>\n            </div>\n        ';b.innerHTML=""}loadFileContent(a){const b=this.getFileExtension(a.name),c=document.getElementById("mad-modal-body"),
e=document.getElementById("mad-modal-footer");this.isImage(b)?this.loadImageContent(a,c,e):this.isPDF(b)?this.loadPDFContent(a,c,e):this.loadFileInfo(a,c,e)}loadImageContent(a,b,c){const e=new Image;e.onload=()=>{b.innerHTML=`<img src="${a.url}" alt="${a.name}" class="mad-modal__image">`;this.addFooterButtons(a,c)};e.onerror=()=>{this.loadFileInfo(a,b,c,"Erro ao carregar imagem")};e.src=a.url}loadPDFContent(a,b,c){b.innerHTML=`
            <iframe src="${a.url}" class="mad-modal__iframe" >
                <p>Seu navegador n\u00e3o suporta PDFs. 
                <a href="${a.url}" target="_blank">Clique aqui para baixar o arquivo</a></p>
            </iframe>
        `;this.addFooterButtons(a,c)}loadFileInfo(a,b,c,e=null){var k=this.getFileExtension(a.name);k=this.getFileIcon(k);b.innerHTML=`
            <div class="mad-modal__file-info">
                <i class="${k} mad-modal__file-icon"></i>
                <div class="mad-modal__file-name">${a.name}</div>
                ${e?`<div style="color: #dc3545; margin-bottom: 15px;">${e}</div>`:""}
                <div class="mad-modal__file-size">Clique em "Download" para baixar o arquivo</div>
            </div>
        `;this.addFooterButtons(a,c,!0)}addFooterButtons(a,b,c){c=[];a.config.modalOptions.showDownloadButton&&c.push(`
                <a href="${a.url}" target="_blank" class="mad-modal__btn ${"mad-modal__btn--primary"}">
                    <i class="fas fa-download"></i>
                    Download
                </a>
            `);c.push('\n            <button type="button" class="mad-modal__btn mad-modal__btn--secondary" onclick="window.MADThumbnailGallery.closeModal()">\n                Fechar\n            </button>\n        ');b.innerHTML=c.join("")}closeModal(){this.modal&&(this.modal.classList.remove("mad-modal--show"),setTimeout(()=>{this.modal.style.display="none";document.body.style.overflow=""},300),this.currentFile=null)}handleKeyDown(a){a.key==="Escape"&&this.modal&&this.modal.style.display!=="none"&&
this.closeModal()}handleOutsideClick(a){a.target.classList.contains("mad-modal__backdrop")&&this.closeModal()}getFileExtension(a){return a.split(".").pop().toLowerCase()}isImage(a){return this.imageExtensions.includes(a)}isPDF(a){return this.pdfExtensions.includes(a)}getFileIcon(a){const b={pdf:"fas fa-file-pdf text-danger",doc:"fas fa-file-word text-primary",docx:"fas fa-file-word text-primary",xls:"fas fa-file-excel text-success",xlsx:"fas fa-file-excel text-success",ppt:"fas fa-file-powerpoint text-warning",
pptx:"fas fa-file-powerpoint text-warning",zip:"fas fa-file-archive text-dark",rar:"fas fa-file-archive text-dark",txt:"fas fa-file-alt text-secondary",default:"fas fa-file text-muted"};return b[a]||b.default}isFullUrl(a){return a?a.startsWith("http://")||a.startsWith("https://")||a.startsWith("//"):!1}extractDisplayName(a){if(!a)return"Arquivo";if(this.isFullUrl(a))try{const b=(new URL(a.startsWith("//")?"https:"+a:a)).pathname.split("/").pop();return decodeURIComponent(b)||"Arquivo"}catch(b){return"Arquivo"}return a}destroy(){this.modal&&
this.modal.remove();document.removeEventListener("keydown",this.handleKeyDown);this.galleries.clear();this.isInitialized=!1}}window.MADThumbnailGallery=new MADThumbnailGallery;
